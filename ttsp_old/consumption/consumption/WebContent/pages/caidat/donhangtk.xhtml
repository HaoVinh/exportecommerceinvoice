<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:h="http://java.sun.com/jsf/html" template="/pages/home.xhtml">
	<ui:define name="content">
		<h3 style="margin: 0px;color: #00145a;font-weight: bold;font-size: 15px !important;line-height: 13px;padding-top: 10px;padding-left: 10px;">Đơn hàng</h3>
		<p:separator />
	<div class="col-md-12" >
		<h:form id="menuformid">
		        <span style="position: absolute;right: 14px;top: 10px;z-index: 1;">
		            <p:commandLink title="Prev" update="menuformid:tabview1:tab2real,menuformid:tabview1:tongthue,menuformid:tabview1:tongtien" styleClass="btnexportpos" action="#{orderStockerBean.nextOrPrev(0)}" style="margin-right:2px;"  >
				      <i class="fa fa-caret-left" aria-hidden="true"></i>
				   </p:commandLink>
			        <p:commandLink title="Prev" update="menuformid:tabview1:tab2real,menuformid:tabview1:tongthue,menuformid:tabview1:tongtien" styleClass="btnexportpos" action="#{orderStockerBean.nextOrPrev(1)}">
				      <i class="fa fa-caret-right" aria-hidden="true"></i>
				   </p:commandLink>
		        </span>
		       <p:tabView id="tabview1" styleClass="clearfix label12 tabview_lix">
		       <p:tab id="tab2"  title="Chi tiết đơn hàng" >
		           <h:panelGroup id="tab2real" styleClass="clearfix" style="background-color: #eeeeee;width: 100%;height: auto;padding-top: 20px;padding-right: 10px;display: inline-block;padding-left: 10px;padding-bottom: 20px;">
		               <div class="wrapdetail" style="background-color: #eeeeee;width: 100%;height: auto;">
		               <div class="col-md-12" style=" padding-left: 0px !important;padding-right:0px !important;background-color:white;padding-top: 15px;">
		               <div class="col-md-12" style=" padding-left: 0px !important;padding-right:0px !important;">
		                   <div class="row">
		                      <div class="col-md-3">
		                         <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                            <label>Số chứng từ<span style="color:red;">*</span></label>
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                               <label>Mã đơn hàng<span style="color:red;">*</span></label>
		                          </div>
		                      </div>
		                      <div class="col-md-3">
		                          <label>HT thanh toán</label>
		                      </div>
		                      <div class="col-md-3">
		                          <label>Loại nhập xuất<span style="color:red;">*</span></label>
		                      </div>
		                      <div class="col-md-3">
		                          <label>Người tạo<span style="color:red;">*</span></label>
		                      </div>
		                   </div>
		                   <div class="row">
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                             <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.voucher_code}" style="width:100%;" />
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                               <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.order_code}" style="width:100%;" />
		                          </div>
		                         
		                      </div>
		                      <div class="col-md-3">
		                          <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.payment_method==null ? '' :orderStockerBean.orderLixCrud.payment_method.method_name}" />
		                      </div>
		                      <div class="col-md-3">
		                          <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.ie_categories==null ? '' :orderStockerBean.orderLixCrud.ie_categories.content}" />
		                      </div>
		                      <div class="col-md-3">
		                         <div class="usernhapsp">
							         <span class="fa fa-user-circle-o"></span>
		                             <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.created_by}" style="width:100%;" />
		                         </div>
		                      </div>
		                   </div>
		               </div>
		               <div class="col-md-12" style="margin-top: 5px; padding-left: 0px !important;padding-right:0px !important;">
		                   <div class="row">
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                            <label>Ngày đặt hàng<span style="color:red;">*</span></label>
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                               <label>Ngày giao hàng<span style="color:red;">*</span></label>
		                          </div>
		                      </div>
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                             <label>Số xe</label>
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                               <label>Tỉ lệ thuế</label>
		                          </div>
		                      </div>
		                      <div class="col-md-3">
		                          <label>Kho<span style="color:red;">*</span></label>
		                      </div>
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                            <label>ID/Hóa đơn copy</label>
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                               <label>P/O</label>
		                          </div>
		                      </div>
		                      
		                   </div>
		                   <div class="row">
		                      <div class="col-md-3">
		                           <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                               <p:calendar readonly="true" value="#{orderStockerBean.orderLixCrud.order_date}" pattern="dd/MM/yyyy" showOn="button" mask="99/99/9999" showButtonPanel="true">
		                               </p:calendar>
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                              <p:calendar readonly="true" value="#{orderStockerBean.orderLixCrud.delivery_date}" pattern="dd/MM/yyyy" showOn="button" mask="99/99/9999" showButtonPanel="true">
		                               </p:calendar>
		                          </div>
		                      </div>
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                             <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.car==null ? '' :orderStockerBean.orderLixCrud.car.license_plate}" />
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                                <p:inputNumber readonly="true"  onclick="this.select()" value="#{orderStockerBean.orderLixCrud.tax_value}" styleClass="intputnumcc" style="width:100%;"
											minValue="0" decimalPlaces="4" decimalSeparator="," maxValue="1000000" emptyValue="0"
					                 thousandSeparator="." />
		                          </div>
		                      </div>
		                      <div class="col-md-3">
		                          <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.warehouse==null ? '' :orderStockerBean.orderLixCrud.warehouse.name}" />
		                      </div>
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                              <p:inputText readonly="true" value="" style="width:100%;" />
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                                <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.po_no}" style="width:100%;" />
		                          </div>
			                    </div>
		                   </div>
		               </div>
		               <div class="col-md-12" style="margin-top: 5px; padding-left: 0px !important;padding-right:0px !important;">
		                   <div class="row">
		                      <div class="col-md-3">
		                          <label>Khách hàng<span style="color:red;">*</span></label>
		                      </div>
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                            <label>Số hóa đơn</label>
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                               <label>Hợp đồng v/c</label>
		                          </div>
		                      </div>
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                            <label>Số serie</label>
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                               <label>Số chứng từ KH</label>
		                          </div>
		                      </div>
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                             <label>Ngày b/đ lên hàng</label>
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                               <label>Ngày lên hàng xong</label>
		                          </div>
		                      </div>
		                   </div>
		                   <div class="row">
		                      <div class="col-md-3">
		                          <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.customer==null ? '' :orderStockerBean.orderLixCrud.customer.customer_name}" />
		                      </div>
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                             <p:inputText readonly="true"  value="#{orderStockerBean.orderLixCrud.invoice_no}" style="width:100%;" />
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                              <p:inputText  readonly="true"  value="#{orderStockerBean.orderLixCrud.freight_contract==null ? '' :orderStockerBean.orderLixCrud.freight_contract.contract_code}" style="width:100%;" />
		                          </div>
		                      </div>
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                             <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.serie_no}" style="width:100%;" />
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                              <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.cus_voucher}" style="width:100%;" />
		                          </div>
		                      </div>
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                              <p:calendar readonly="true" value="#{orderStockerBean.orderLixCrud.s_up_goods_date}" pattern="dd/MM/yyyy" showOn="button" mask="9/99/9999" showButtonPanel="true"/>
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                              <p:calendar readonly="true" value="#{orderStockerBean.orderLixCrud.s_up_goods_date}" pattern="dd/MM/yyyy" showOn="button" mask="99/99/9999" showButtonPanel="true"/>
		                          </div>
		                      </div>
		                   </div>
		               </div>
		               <div class="col-md-12" style="margin-top: 5px; padding-left: 0px !important;padding-right:0px !important;">
		                   <div class="row">
		                      <div class="col-md-3">
		                          <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                            <label>CT.Đơn giá</label>
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                               <label>CT.Khuyến mãi</label>
		                          </div>
		                      </div>
		                      
		                      <div class="col-md-3">
		                          <label>Lưu ý KH</label>
		                      </div>
		                      <div class="col-md-3">
		                          <label>Nơi giao hàng</label>
		                      </div>
		                      <div class="col-md-3">
		                          <label>Ghi chú</label>
		                      </div>
		                   </div>
		                   <div class="row">
		                         <div class="col-md-3">
		                             <div class="col-md-6" style="padding-left:0px !important; padding-right:3px !important;">
		                               <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.pricing_program==null ? '' :orderStockerBean.orderLixCrud.pricing_program.program_code}" />
		                          </div>
		                          <div class="col-md-6" style="padding-left:3px !important; padding-right:0px !important;">
		                             <p:inputText readonly="true" value="#{orderStockerBean.orderLixCrud.promotion_program==null ? '' :orderStockerBean.orderLixCrud.promotion_program.program_code}" />
		                          </div>
		                         </div>
			                      <div class="col-md-3">
			                          <p:inputTextarea id="luuykh" readonly="true" styleClass="textareap" value="#{orderStockerBean.orderLixCrud.customer.note}" rows="2">
			                          </p:inputTextarea>
			                      </div>
			                      <div class="col-md-3">
			                          <p:inputTextarea  id="noighang" readonly="true" styleClass="textareap" value="#{orderStockerBean.orderLixCrud.delivery_pricing.address}" rows="2">
			                          </p:inputTextarea>
			                      </div>
			                      <div class="col-md-3">
			                            <p:inputTextarea readonly="true" styleClass="textareap" value="#{orderStockerBean.orderLixCrud.note}" rows="2">
			                            </p:inputTextarea>
			                      </div>
		                   </div>
		               </div>
		               <div class="col-md-12" style="margin-top: 5px; padding-left: 0px !important;padding-right:0px !important;">
		                   <div class="row">
		                      <div class="col-md-3">
		                          <label>Lý do chưa giao hàng</label>
		                      </div>
		                      <div class="col-md-3">
		                      </div>
		                   </div>
		                   <div class="row">
		                      <div class="col-md-3">
		                          <p:inputTextarea readonly="true" style="height:42px !important;" styleClass="textareap textareap2" value="#{orderStockerBean.orderLixCrud.reason_not_delivered}" rows="2" />
		                      </div>
		                      <div class="col-md-3" style="padding-right:5px !important;    padding-top: 4px;">
		                         <p:fieldset id="tstatus" legend="Trạng thái" 
							          styleClass="fieldsetclass2 label12 classfixtopfieldset">
							          <h:outputText rendered="#{orderStockerBean.orderLixCrud.exported==false}" style="color:red;" value="Chưa xuất xong" />
							          <h:outputText rendered="#{orderStockerBean.orderLixCrud.exported==true}"  style="color:#4bac4d;" value="Đã xuất xong" />
							      </p:fieldset>
							  </div>
		                      <div class="col-md-3" style="padding-right:5px !important;    padding-top: 4px;">
		                         <p:fieldset id="tongthue" legend="Tiền thuế" 
							          styleClass="fieldsetclass2 label12 classfixtopfieldset">
							          <span> #{orderStockerBean.formatHandler.getNumberFormat(orderStockerBean.sumOrderLix()*orderStockerBean.orderLixCrud.tax_value,1000)}</span>
							      </p:fieldset>
							  </div>
							  <div class="col-md-3" style="padding-left:5px !important;    padding-top: 4px;">
		                         <p:fieldset id="tongtien" legend="Tổng tiền" 
							          styleClass="fieldsetclass2 label12 classfixtopfieldset">
							          <span>#{orderStockerBean.formatHandler.getNumberFormat(orderStockerBean.sumOrderLix(),1000)}</span>
							      </p:fieldset>
		                      </div>
		                   </div>
		                   <div class="row" style="margin-top: 10px; margin-bottom: 8px;">
		                       <div class="col-md-12">
		                           <div style="float:right;">
			                           <span class="" style="margin-left:5px !important;margin-right:5px !important; display: inline-block;">
									        <p:selectBooleanCheckbox value="#{orderStockerBean.orderLixCrud.exported}" styleClass="checkboxbtnspec" itemLabel="Đã xuất xong"  >
									           <p:ajax event="change" listener="#{orderStockerBean.processExported()}" update="tab2real" />
									    	</p:selectBooleanCheckbox>
							    	   </span>
						              <p:commandLink process="@this"  action="#{orderStockerBean.exportPDF()}" styleClass="btn_printtt" style="margin-left:5px; padding-left:25px;padding-right:25px;margin-right:5px;display: inline-block;" >
						                    <i class="fa fa-print" aria-hidden="true"></i><span>In</span>
						              </p:commandLink>
			                       </div>
		                       </div>
		                   </div>
		               </div>
		               </div>
		               </div>
		               <div class="col-md-12" style="margin-top: 16px; padding-left: 0px !important;padding-right:0px !important; background-color: white;padding-top: 0px;">
		                   <div class="row">
		                         <p:fieldset legend="Sản phẩm đơn hàng" styleClass="fieldsetclass label12 borderfsnone" toggleable="true" toggleSpeed="500" collapsed="false" style="margin-bottom:10px;" >
							    <div class="col-md-12">
							      <div class="row">
									</div>
							   </div>
							   <div class="col-md-12">
							       <div class="row">
								       <p:dataTable value="#{orderStockerBean.listWrapOrderDetailReqInfo}" 
										paginatorPosition="bottom" rowsPerPageTemplate="90,180,250"  
										paginator="true" rowKey="#{item.order_detail.id}" style="width:100%;" styleClass="tablenhapsp"
										selection="#{orderStockerBean.wrapOrderDetailReqInfoSelect}" scrollable="true" 
										selectionMode="single" scrollWidth="" id="tablect" filteredValue="#{orderStockerBean.listWrapOrderDetailReqInfoFilter}"
										scrollHeight="370" widgetVar="tablect" resizableColumns="true" expandedRow="false"
										var="item">
										<p:column width="20" styleClass="textcenter">
								            <p:rowToggler   />
								        </p:column>
								        <p:column width="30" styleClass="textcenter">
										   <p:commandLink title="Xuất lô hàng" update="dlgexportod,dlgheaderod" styleClass="btnexportpos" action="#{orderStockerBean.showDialogExportOD(item)}">
										      <i class="fa fa-external-link" aria-hidden="true"></i>
										   </p:commandLink>
										</p:column>
										<p:column headerText="ID" width="30">
											<h:outputText value="#{item.order_detail.id}" />
										</p:column>
										<p:column headerText="Mã SP" width="50" filterMatchMode="contains" filterBy="#{orderStockerBean.formatHandler.converViToEn(item.order_detail.product.product_code)}">
											<h:outputText value="#{item.order_detail.product.product_code}" />
										</p:column>
										<p:column headerText="Sản phẩm" width="300"  filterMatchMode="contains" filterBy="#{orderStockerBean.formatHandler.converViToEn(item.order_detail.product.product_name)}">
											<h:outputText style="white-space: initial;" value="#{item.order_detail.product.product_name}" />
										</p:column>
										<p:column headerText="Số thùng" width="50" styleClass="textright">
											<h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item.order_detail.box_quantity,1)}" />
										</p:column>
										<p:column headerText="Số lượng" width="50" styleClass="textright">
											<h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item.order_detail.quantity,1000)}" />
										</p:column>
										<p:column headerText="Thực xuất(thùng)" width="80" styleClass="textright">
											<h:outputText id="realExportBox" value="#{orderStockerBean.formatHandler.getNumberFormat(item.order_detail.realbox_quantity,1000)}" />
										</p:column>
										<p:column headerText="Thực xuất(đvt)" width="80" styleClass="textright">
											<h:outputText id="realExport" value="#{orderStockerBean.formatHandler.getNumberFormat(item.order_detail.real_quantity,1000)}" />
										</p:column>
										<p:column headerText="Đơn giá" width="60" styleClass="textright">
											<h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item.order_detail.unit_price,1000)}" />
										</p:column>
										<p:column headerText="Số tiền" width="60" styleClass="textright">
											<h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item.order_detail.quantity*item.order_detail.unit_price,1000)}" />
										</p:column>
										<p:column headerText="Hình thức KM" width="80" styleClass="textcenter">
										     <h:outputText value="#{item.order_detail.promotion_forms}" />
										</p:column>
										<p:column headerText="Qui cách" width="80">
											<h:outputText value="#{item.order_detail.note}" />
										</p:column>
										<p:column headerText="Mã lô hàng" width="80">
											<h:outputText value="#{item.order_detail.batch_code}" />
										</p:column>
										<p:column headerText="Số Cont" width="40" styleClass="textright">
											<h:outputText value="#{item.order_detail.container_number}" />
										</p:column>
										<p:column headerText="Số Seal" width="50" styleClass="textright">
											<h:outputText value="#{item.order_detail.seal_number}" />
										</p:column>
										<p:rowExpansion styleClass="parentPosition" >
										   <p:dataTable value="#{item.list_export_batch}" style=" width:75%; min-height:100px !important; font-size:11px !important;"
												paginatorPosition="bottom" rowsPerPageTemplate="90,180,250" 
												 styleClass="tableinner" 
												paginator="true" rowKey="#{item2.id}"   id="tableInner"
												 widgetVar="tableInner" 
												var="item2">
												<p:column width="5" styleClass="textcenter">
												    <p:commandLink update="tableInner,messages" styleClass="trash_del" style="font-size:15px !important;" process="@this" action="#{orderStockerBean.deleteExportBatchOD(item,item2)}">
													   <span class="fa fa-trash-o"></span>
													    <p:confirm icon="ui-icon-alert" />
													</p:commandLink>
												</p:column>
												<p:column headerText="ID" width="15" styleClass="textcenter">
													<h:outputText  value="#{item2.id}" />
												</p:column>
												<p:column headerText="Ngày sản xuất" width="90" styleClass="textcenter">
													<h:outputText  value="#{item2.batch.manufacture_date}">
													   <f:convertDateTime pattern="dd/MM/yyyy"/>
													</h:outputText>
												</p:column>
												<p:column headerText="Mã lô hàng" width="40" styleClass="textcenter">
													<h:outputText value="#{item2.batch.batch_code}" />
												</p:column>
												<p:column headerText="Xuất (đvt)" width="40" styleClass="textright">
												     <h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item2.quantity,1000)}" />
												</p:column>
												<p:column headerText="Xuất (thùng)" width="40" styleClass="textright">
												     <h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item2.box_quantity,1000)}" />
												</p:column>
											 </p:dataTable>
										</p:rowExpansion>
									</p:dataTable>
								 </div>
							   </div>
								</p:fieldset>
		                      <p:fieldset legend="Sản phẩm khuyến mãi" 
							styleClass="fieldsetclass label12 borderfsnone" toggleable="true"
							toggleSpeed="500" collapsed="false">
							<div class="col-md-12">
							    <div class="row">
				                       <p:dataTable value="#{orderStockerBean.listWrapPromotionOrderDetailReqInfo}" style="width:100%;"
											paginatorPosition="bottom" rowsPerPageTemplate="90,180,250" styleClass="tablenhapsp"
											paginator="true" rowKey="#{item.promotion_order_detail.id}"  scrollable="true" id="tablekm" 
											scrollHeight="370" widgetVar="tablekm" resizableColumns="true" filteredValue="#{orderStockerBean.listWrapPromotionOrderDetailReqInfoFilter}"
											var="item">
											<p:column width="20" styleClass="textcenter">
									            <p:rowToggler   />
									        </p:column>
									        <p:column width="30" styleClass="textcenter">
											   <p:commandLink title="Xuất lô hàng" update="dlgexportpod,dlgheaderpod" styleClass="btnexportpos" action="#{orderStockerBean.showDialogExportPOD(item)}">
											      <i class="fa fa-external-link" aria-hidden="true"></i>
											   </p:commandLink>
											</p:column>
											<p:column headerText="Maspdh" width="50" filterMatchMode="contains" filterBy="#{orderStockerBean.formatHandler.converViToEn(item.promotion_order_detail.order_detail.product.product_code)}">
												<h:outputText value="#{item.promotion_order_detail.order_detail.product.product_code}" />
											</p:column>
											<p:column headerText="Mã SP" width="50" filterMatchMode="contains" filterBy="#{orderStockerBean.formatHandler.converViToEn(item.promotion_order_detail.product.product_code)}">
												<h:outputText value="#{item.promotion_order_detail.product.product_code}" />
											</p:column>
											<p:column headerText="Sản phẩm" filterMatchMode="contains" filterBy="#{orderStockerBean.formatHandler.converViToEn(item.promotion_order_detail.product.product_name)}" width="280">
												<h:outputText style="white-space: initial;" value="#{item.promotion_order_detail.product.product_name}" />
											</p:column>
											<p:column headerText="Số lượng" width="60" styleClass="textright">
												<h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item.promotion_order_detail.quantity,1)}" />
											</p:column>
											<p:column headerText="Thực xuất" width="60" styleClass="textright">
												<h:outputText id="realExport" value="#{orderStockerBean.formatHandler.getNumberFormat(item.promotion_order_detail.real_quantity,1)}" />
											</p:column>
											<p:column headerText="Đơn giá" width="60" styleClass="textright">
												<h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item.promotion_order_detail.unit_price,1000)}" />
											</p:column>
											<p:column headerText="Số tiền" width="60" styleClass="textright">
												<h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item.promotion_order_detail.quantity*item.promotion_order_detail.unit_price,1000)}" />
											</p:column>
											<p:column headerText="Qui cách" width="90">
												<h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item.promotion_order_detail.product.specification,1000)} #{item.promotion_order_detail.product.unit}/#{item.promotion_order_detail.product.packing_unit}" />
											</p:column>
											<p:column headerText="MANSPKM" width="60">
												<h:outputText value="#{item.promotion_order_detail.product.promotion_product_group.code}" />
											</p:column>
											<p:column headerText="Ghi chú" width="100">
												<h:outputText  value="#{item.promotion_order_detail.product.promotion_product_group ==null ?'' :'KM'} #{item.promotion_order_detail.product.promotion_product_group.name}" />
											</p:column>
											<p:column headerText="Nợ" width="50" styleClass="textcenter">
												<p:selectBooleanCheckbox value="#{item.promotion_order_detail.owe}" />
											</p:column>
											<p:column headerText="Cập nhật" width="70">
												<h:outputText value="#{item.promotion_order_detail.last_modifed_date}">
												    <f:convertDateTime pattern="dd/MM/yyyy"/>
												</h:outputText>
											</p:column>
											<p:rowExpansion styleClass="parentPosition" >
										   <p:dataTable value="#{item.list_export_batch}" style=" width:75%; min-height:100px !important; font-size:11px !important;"
												paginatorPosition="bottom" rowsPerPageTemplate="90,180,250" 
												 styleClass="tableinner" 
												paginator="true" rowKey="#{item2.id}"   id="tableInner"
												 widgetVar="tableInner" 
												var="item2">
												<p:column width="5" styleClass="textcenter">
												    <p:commandLink update="messages" styleClass="trash_del" style="font-size:15px !important;" process="@this" action="#{orderStockerBean.deleteExportBatchPOD(item,item2)}">
													   <span class="fa fa-trash-o"></span>
													    <p:confirm icon="ui-icon-alert" />
													</p:commandLink>
												</p:column>
												<p:column headerText="ID" width="15" styleClass="textcenter">
													<h:outputText  value="#{item2.id}" />
												</p:column>
												<p:column headerText="Ngày sản xuất" width="90" styleClass="textcenter">
													<h:outputText  value="#{item2.batch.manufacture_date}">
													   <f:convertDateTime pattern="dd/MM/yyyy"/>
													</h:outputText>
												</p:column>
												<p:column headerText="Mã lô hàng" width="40" styleClass="textcenter">
													<h:outputText value="#{item2.batch.batch_code}" />
												</p:column>
												<p:column headerText="Xuất (đvt)" width="40" styleClass="textright">
												     <h:outputText value="#{orderStockerBean.formatHandler.getNumberFormat(item2.quantity,1000)}" />
												</p:column>
											 </p:dataTable>
										</p:rowExpansion>
										</p:dataTable>
								    </div>
								</div>
								</p:fieldset>
		                   </div>
		               </div>
		           </h:panelGroup>
		       </p:tab>
		       <p:tab id="tab1"  title="Danh sách đơn hàng"  >
		           <div class="col-md-12"  style="padding-left:0px !important; padding-right: 0px !important;background-color: #eeeeee;padding-top: 15px;">
	              <div class="col-md-12">
		            <p:commandLink id="idorder" styleClass="btn_primmary" style="margin-left:0px; margin-right:0px;height:29px !important;line-height:29px !important;" >
				                    <i class="fa fa-search" aria-hidden="true"></i><span>Tìm kiếm</span>
				      </p:commandLink>
	                  <p:overlayPanel id="imagePanel" for="idorder" hideEffect="fade" dismissable="false"
								widgetVar="panelsearch" style="width:360px;">
						<div class="col-md-12"
											style="border: 1px solid #ccc; border-radius: 6px; margin-bottom: 5px !important;">
							    <div class="col-md-12" style="padding-top:10px !important;padding-left: 0px !important; padding-right: 0px !important;">
	                                   <div class="row">
	                                       <div class="col-md-6" style="padding-left: 0px !important; padding-right: 5px !important;">
	                                           <label>Từ ngày</label>
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 5px !important; padding-right: 0px !important;">
	                                           <label>Đến ngày</label>
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 0px !important; padding-right: 5px !important; margin-bottom:5px;" >
	                                          <p:calendar value="#{orderStockerBean.fromDateSearch}" pattern="dd/MM/yyyy" showOn="button" mask="99/99/9999" showButtonPanel="true"/>
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 5px !important; padding-right: 0px !important; margin-bottom:5px;" >
	                                            <p:calendar value="#{orderStockerBean.toDateSearch}" pattern="dd/MM/yyyy" showOn="button" mask="99/99/9999" showButtonPanel="true"/>
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 0px !important; padding-right: 5px !important;">
	                                           <label>Số đơn hàng</label>
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 5px !important; padding-right: 0px !important;">
	                                           <label>Số chứng từ</label>
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 0px !important; padding-right: 5px !important; margin-bottom:5px;" >
	                                          <p:inputText value="#{orderStockerBean.orderCodeSearch}" style="width:100%" />
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 5px !important; padding-right: 0px !important; margin-bottom:5px;" >
	                                           <p:inputText value="#{orderStockerBean.voucherCodeSearch}" style="width:100%" />
	                                       </div>
	                                       <div class="col-md-12" style="padding-left: 0px !important;padding-right:0px !important;">
	                                           <label>Khách hàng</label>
	                                       </div>
	                                       <div class="col-md-12" style="padding-left: 0px !important; padding-right: 0px !important; margin-bottom:5px;" >
	                                           <div class="nhapdlg">
										             <span class="fa fa-search"></span>
													  <p:autoComplete style="width:100%;"
														value="#{orderStockerBean.customerSearch}" queryDelay="900" placeholder="Tìm khách hàng"
														maxResults="60" converter="abstractConverter" minQueryLength="2" 
														completeMethod="#{orderStockerBean.completeCustomer}" var="p"
														itemLabel="#{p.customer_name}" itemValue="#{p}"
														forceSelection="true" onclick="this.select();">
														<p:column style="width:50px">
														   <h:outputText value="#{p.customer_code}" />
														</p:column>
														<p:column style="width:150px">
														    <h:outputText value="#{p.customer_name}" />
														 </p:column>
													  </p:autoComplete>
											       </div>
	                                       </div>
	                                       <div class="col-md-12" style="padding-left:0px !important; padding-right:0px !important; ">
	                                           <label>Loại xuất nhập</label>
	                                       </div>
	                                       <div class="col-md-12" style="padding-left: 0px !important; padding-right: 0px !important; margin-bottom:5px;" >
	                                          <p:selectOneMenu 
													value="#{orderStockerBean.iECategoriesSearch}"
													converter="abstractConverter" effect="fade" var="t"
													style="width:100%;" filter="true" filterPlaceholder="Tìm kiếm"
											filterMatchMode="custom" filterFunction="customFilter2">
													 <f:selectItem itemLabel="Tất cả" itemValue="#{null}" />
													<f:selectItems value="#{orderStockerBean.listIECategories}"
														var="theme" itemLabel="#{theme.old_code}-#{theme.content}"
														itemValue="#{theme}" />
													<p:column>
														<h:outputText value="#{t.code}" />
													</p:column>
													<p:column>
														<h:outputText value="#{t.old_code}" />
													</p:column>
													<p:column>
														<h:outputText value="#{t==null ? 'Tất cả' : t.content}" />
													</p:column>
												</p:selectOneMenu>
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 0px !important;padding-right: 5px !important;">
	                                           <label>P/O</label>
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 5px !important; padding-right:0px !important;">
	                                           <label>Trạng thái</label>
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 0px !important; padding-right: 5px !important; margin-bottom:5px;" >
											    <p:inputText value="#{orderStockerBean.poNoSearch}" style="width:100%" />
	                                       </div>
	                                       <div class="col-md-6" style="padding-left: 5px !important; padding-right: 0px !important; margin-bottom:5px;" >
											 <p:selectOneMenu 
													value="#{orderStockerBean.exportedSearch}"
													converter="abstractConverter" effect="fade" var="t"
													style="width:100%;">
													 <f:selectItem itemLabel="Tất cả" itemValue="#{-1}" />
										            <f:selectItem itemLabel="Chưa xuất hàng" itemValue="#{0}" />
										            <f:selectItem itemLabel="Đã xuất xong" itemValue="#{1}" />
												</p:selectOneMenu>
	                                       </div>
	                                   </div>
	                                 </div>
						  </div>
							<div class="col-md-12" style="padding-left: 0px !important;padding-right: 0px !important; margin-bottom: 5px;">
							   <div class="pull-right">
									<p:commandButton value="Tìm" process="imagePanel" 
									icon="ui-icon-search" oncomplete="PF('panelsearch').hide()"
									actionListener="#{orderStockerBean.search()}"
									update="menuformid:tabview1:tablesp" />
								</div>
							</div>
					  </p:overlayPanel>
	              </div>
	              <div class="col-md-12" style="margin-top: 3px;">
	                <p:dataTable value="#{orderStockerBean.listOrderLix}" 
							paginatorPosition="bottom" styleClass="tablenhapsp"
							paginator="true" rowKey="#{item.id}" id="tablesp" style="width:100%;"
							scrollable="true" scrollHeight="700"  paginatorTemplate="{Exporters}"
							selection="#{orderStockerBean.orderLixSelect}"
							selectionMode="single" resizableColumns="true" var="item">
						<f:facet name="{Exporters}">
							  <span class="pagecurrentdisplay">
							     <h:outputText value="(#{orderStockerBean.navigationInfo.currentPage} of #{orderStockerBean.navigationInfo.totalPage})" />
							  </span>
							  <ul class="pagination pagination-sm" style="margin: 0px 0px !important;">
							      <li><p:commandLink disabled="#{orderStockerBean.navigationInfo.currentPage ==1}" styleClass="fa fa-angle-double-left font_weightcus"  update="tablesp" actionListener="#{orderStockerBean.paginatorChange(1)}" /> </li>
							      <li><p:commandLink disabled="#{orderStockerBean.navigationInfo.currentPage ==1}" styleClass="fa fa-angle-left font_weightcus"  update="tablesp" actionListener="#{orderStockerBean.paginatorChange(orderStockerBean.navigationInfo.currentPage-1)}" /> </li>
								  <c:forEach var="index" items="#{orderStockerBean.navigationInfo.indexList}">
									  <li class="#{orderStockerBean.navigationInfo.currentPage==index ? 'active' : ''}"><p:commandLink   update="tablesp" value="#{index}" actionListener="#{orderStockerBean.paginatorChange(index)}" /> </li>
								  </c:forEach>
								  <li><p:commandLink disabled="#{orderStockerBean.navigationInfo.currentPage == orderStockerBean.navigationInfo.totalPage}" styleClass="fa fa-angle-right font_weightcus"  update="tablesp" actionListener="#{orderStockerBean.paginatorChange(orderStockerBean.navigationInfo.currentPage +1)}" /></li>
							      <li><p:commandLink disabled="#{orderStockerBean.navigationInfo.currentPage == orderStockerBean.navigationInfo.totalPage}" styleClass="fa fa-angle-double-right font_weightcus"  update="tablesp" actionListener="#{orderStockerBean.paginatorChange(orderStockerBean.navigationInfo.totalPage)}" /></li>
								</ul>
								<span class="rowperpage">
						        <p:selectOneMenu 
									value="#{orderStockerBean.pageSize}"
									converter="abstractConverter" effect="fade" var="t"
									style="width:50px;margin-left:10px !important;">
									<f:selectItems value="#{orderStockerBean.listRowPerPage}"
										var="theme" itemLabel="#{theme}"
										itemValue="#{theme}" />
									<p:column>
										<h:outputText value="#{t}" />
									</p:column>
									<p:ajax update="tablesp"  listener="#{orderStockerBean.paginatorChange(1)}"></p:ajax>
								</p:selectOneMenu>
						        </span>
					     </f:facet>
					     <p:ajax event="rowSelect" listener="#{orderStockerBean.showEditOrderLix()}" update="menuformid:tabview1:tab2real,menuformid:tabview1:tongthue,menuformid:tabview1:tongtien" />
							<p:column headerText="Mã đơn hàng" width="70">
								<h:outputText value="#{item.order_code}" />
							</p:column>
							<p:column headerText="Số chứng từ" width="100">
								<h:outputText value="#{item.voucher_code}" />
							</p:column>
							<p:column headerText="Ngày đặt hàng" width="100">
								 <h:outputText value="#{item.order_date}">
									<f:convertDateTime pattern="dd/MM/yyyy"/>
								  </h:outputText>
							</p:column>
							<p:column headerText="Khách hàng" width="250">
								<h:outputText style="white-space: initial;" value="#{item.customer.customer_name}" />
							</p:column>
							<p:column headerText="Người tạo" width="120">
							    <h:outputText value="#{item.created_by}" />
							</p:column>
							<p:column headerText="Trạng thái" width="120" styleClass="textcenter">
							     <h:outputText rendered="#{item.exported==false}" style="color:red;" value="Chưa xuất hàng" />
							      <h:outputText rendered="#{item.exported==true}"  style="color:#4bac4d;" value="Đã xuất xong" />
							</p:column>
							<p:column headerText="Số xe" width="80" >
								<h:outputText value="#{item.car.license_plate}" />
							</p:column>
							<p:column headerText="P/O" width="80" >
								<h:outputText value="#{item.po_no}" />
							</p:column>
							<p:column headerText="Loại xuất nhập" width="120" >
								<h:outputText value="#{item.ie_categories.content}" />
							</p:column>
							<p:column headerText="CT.Đơn giá" width="80">
							    <h:outputText value="#{item.pricing_program.program_code}" />
							</p:column>
							<p:column headerText="CT.Khuyến mãi" width="80">
							    <h:outputText value="#{item.promotion_program.program_code}" />
							</p:column>
							<p:column headerText="Kho" width="80">
							    <h:outputText value="#{item.warehouse.name}" />
							</p:column>
							<p:column headerText="Đã giao hàng" width="70">
							    <p:selectBooleanCheckbox disabled="true" value="#{item.delivered}"/>
							</p:column>
							<p:column headerText="Ghi chú" >
								<h:outputText value="#{item.note }" />
							</p:column>
					</p:dataTable>
	          </div>
	           </div>
		       </p:tab>
		      </p:tabView>
		 </h:form>
	</div>
	<p:dialog styleClass="dialogcommon" resizable="false" width="580" style="overflow: initial;"
		closeOnEscape="true" header="Chọn lô hàng" widgetVar="dlgexportod" modal="true">
		<f:facet name="header">
            <h:form id="dlgheaderod">
              <h:outputText style="font-size:13px;" value="#{orderStockerBean.wrapOrderDetailPick.order_detail.product.product_name}" />
            </h:form>
        </f:facet>
		<h:form id="dlgexportod" style="width:100%;">
		      <div class="col-md-12" style="padding-left:0px !important; padding-right:0px !important; margin-top: 5px; margin-bottom: 10px;">
		          <div class="row">
		                <div class="col-md-3" style="padding-left: 3px !important;padding-right:3px !important;">
			                <label>Yêu cầu(thùng)</label>
			           </div>
			           <div class="col-md-3" style="padding-left: 3px !important;padding-right:3px !important;">
			                <label>Yêu cầu(đvt)</label>
			           </div>
			            <div class="col-md-3" style="padding-left: 3px !important;padding-right:3px !important;">
			                <label>Thực xuất(thùng)</label>
			           </div>
			           <div class="col-md-3" style="padding-left: 3px !important;padding-right:3px !important;">
			                <label>Thực xuất(đvt)</label>
			           </div>
			       </div>
			       <div>
			            <div class="col-md-3" style="padding-left: 3px !important;padding-right:3px !important;">
			                <p:inputText style="color: red;font-weight: bold;font-size: 14px;" readonly="true"  value="#{orderStockerBean.formatHandler.getNumberFormat(orderStockerBean.wrapOrderDetailPick.order_detail.box_quantity,1000)}" />
			           </div>
			           <div class="col-md-3" style="padding-left: 3px !important;padding-right:3px !important;">
			               <p:inputText style="color: red;font-weight: bold;font-size: 14px;" readonly="true" value="#{orderStockerBean.formatHandler.getNumberFormat(orderStockerBean.wrapOrderDetailPick.order_detail.quantity,1000)}" />
			           </div>
			            <div class="col-md-3" style="padding-left: 3px !important;padding-right:3px !important;">
			                <p:inputText style="color: red;font-weight: bold;font-size: 14px;" readonly="true"  value="#{orderStockerBean.formatHandler.getNumberFormat(orderStockerBean.wrapOrderDetailPick.order_detail.realbox_quantity,1000)}" />
			           </div>
			           <div class="col-md-3" style="padding-left: 3px !important;padding-right:3px !important;">
			               <p:inputText style="color: red;font-weight: bold;font-size: 14px;" readonly="true" value="#{orderStockerBean.formatHandler.getNumberFormat(orderStockerBean.wrapOrderDetailPick.order_detail.real_quantity,1000)}" />
			           </div>
		          </div>
		      </div>
		      <div class="col-md-12" style="padding-left:0px !important; padding-right:0px !important;">
		          <p:dataTable id="xuatLH" style="width:100%; min-height:100px; height:auto;" styleClass="tablenhapsp tableright0" scrollable="true" 
		          scrollHeight="200" var="itemex" value="#{orderStockerBean.listWrapExportDataOD}" paginatorPosition="bottom" rowsPerPageTemplate="90,180,250" >
			        <p:column headerText="" width="10" styleClass="textcenter">
			           <p:selectBooleanCheckbox value="#{itemex.select}">
			              <p:ajax event="change" listener="#{orderStockerBean.selectExportBatchOD(itemex)}" update="dlgexportod,messages" />
			           </p:selectBooleanCheckbox>
			        </p:column>
			        <p:column headerText="Lô hàng" width="50"  styleClass="textcenter" >
			           <h:outputText  value="#{itemex.export_batch_od_fake.batch_fake.batch_code}" />
			        </p:column>
			         <p:column headerText="Tồn(thùng)" width="40"  styleClass="textright">
			           <h:outputText  value="#{orderStockerBean.formatHandler.getNumberFormat(itemex.export_batch_od_fake.batch_fake.remain_box_quantity,1000)}" />
			        </p:column>
			        <p:column headerText="Tồn(đvt)" width="40"  styleClass="textright">
			           <h:outputText  value="#{orderStockerBean.formatHandler.getNumberFormat(itemex.export_batch_od_fake.batch_fake.remain_quantity,1000)}" />
			        </p:column>
			        <p:column headerText="Xuất(thùng)" width="40">
			            <p:inputNumber readonly="#{itemex.select==false}" onclick="this.select()" value="#{itemex.box_quantity_export}" styleClass="inputtext_nhapsp input_red" style="width:100%;"
							minValue="0" decimalPlaces="0" decimalSeparator="," maxValue="10000000" thousandSeparator=".">
                          <p:ajax event="keyup"  listener="#{orderStockerBean.changeQuantityExportBatchOD(itemex)}" update="dlgexportod,messages" />
                        </p:inputNumber>
			        </p:column>
			        <p:column headerText="Xuất(đvt)" width="40">
			            <p:inputNumber readonly="true"  onclick="this.select()" value="#{itemex.quantity_export}" styleClass="inputtext_nhapsp input_red inputdis" style="width:100%;"
							minValue="0" decimalPlaces="0" decimalSeparator="," maxValue="10000000" thousandSeparator=".">
                        </p:inputNumber>
			        </p:column>
			    </p:dataTable>
		      </div>
		      <div class="col-md-12" style="padding-left:0px !important;padding-right:0px !important;">
		           <p:commandLink  update="messages,dlgexportod"   action="#{orderStockerBean.saveOrUpdateExportBatchOD()}" styleClass="btn_primmary" style=" " >
	                    <i class="fa fa-floppy-o" aria-hidden="true"></i><span>Lưu/Cập nhật</span>
	              </p:commandLink>
		      </div>
		</h:form>
	</p:dialog>
	<p:dialog styleClass="dialogcommon" resizable="false" width="500" style="overflow: initial;"
		closeOnEscape="true" header="Chọn lô hàng" widgetVar="dlgexportpod" modal="true">
		<f:facet name="header">
            <h:form id="dlgheaderpod">
              <h:outputText style="font-size:13px;" value="#{orderStockerBean.wrapPromotionOrderDetailPick.promotion_order_detail.product.product_name}" />
            </h:form>
        </f:facet>
		<h:form id="dlgexportpod" style="width:100%;">
		      <div class="col-md-12" style="padding-left:0px !important; padding-right:0px !important; margin-top: 5px; margin-bottom: 10px;">
		          <div class="row">
			           <div class="col-md-6" style="padding-left: 3px !important;padding-right:3px !important;">
			                <label>Số lượng yêu cầu</label>
			           </div>
			           <div class="col-md-6" style="padding-left: 2px !important;padding-right:0px !important;">
			                <label>Số lượng thực xuất</label>
			           </div>
			           <div class="col-md-6" style="padding-left: 3px !important;padding-right:3px !important;">
			               <p:inputText style="color: red;font-weight: bold;font-size: 14px;" readonly="true" value="#{orderStockerBean.formatHandler.getNumberFormat(orderStockerBean.wrapPromotionOrderDetailPick.promotion_order_detail.quantity,1000)}" />
			           </div>
			           <div class="col-md-6" style="padding-left: 2px !important;padding-right:0px !important;">
			                <p:inputText style="color: red;font-weight: bold;font-size: 14px;" readonly="true"  value="#{orderStockerBean.formatHandler.getNumberFormat(orderStockerBean.wrapPromotionOrderDetailPick.promotion_order_detail.real_quantity,1000)}" />
			           </div>
		          </div>
		      </div>
		      <div class="col-md-12" style="padding-left:0px !important; padding-right:0px !important;">
		          <p:dataTable id="xuatLH" style="width:100%; min-height:100px; height:auto;" styleClass="tablenhapsp tableright0" scrollable="true" 
		          scrollHeight="200" var="itemex" value="#{orderStockerBean.listWrapExportDataPOD}" paginatorPosition="bottom" rowsPerPageTemplate="90,180,250" >
			        <p:column headerText="" width="10" styleClass="textcenter">
			           <p:selectBooleanCheckbox value="#{itemex.select}">
			              <p:ajax event="change" listener="#{orderStockerBean.selectExportBatchPOD(itemex)}" update="dlgexportpod,messages" />
			           </p:selectBooleanCheckbox>
			        </p:column>
			        <p:column headerText="Lô hàng" width="20"  styleClass="textcenter" >
			           <h:outputText  value="#{itemex.export_batch_pod_fake.batch_fake.batch_code}" />
			        </p:column>
			        <p:column headerText="số lượng tồn" width="33"  styleClass="textright">
			           <h:outputText  value="#{orderStockerBean.formatHandler.getNumberFormat(itemex.export_batch_pod_fake.batch_fake.remain_quantity,1000)}" />
			        </p:column>
			        <p:column headerText="số lượng xuất" width="40">
			            <p:inputNumber readonly="#{itemex.select==false}"  onclick="this.select()" value="#{itemex.quantity_export}" styleClass="inputtext_nhapsp input_red" style="width:100%;"
							minValue="0" decimalPlaces="0" decimalSeparator="," maxValue="10000000" thousandSeparator=".">
                          <p:ajax event="keyup" listener="#{orderStockerBean.changeQuantityExportBatchPOD(itemex)}" update="dlgexportpod,messages" />
                        </p:inputNumber>
			        </p:column>
			    </p:dataTable>
		      </div>
		      <div class="col-md-12" style="padding-left:0px !important;padding-right:0px !important;">
		           <p:commandLink  update="messages,dlgexportpod"   action="#{orderStockerBean.saveOrUpdateExportBatchPOD()}" styleClass="btn_primmary" style=" " >
	                    <i class="fa fa-floppy-o" aria-hidden="true"></i><span>Lưu/Cập nhật</span>
	              </p:commandLink>
		      </div>
		</h:form>
	</p:dialog>
	</ui:define>
</ui:composition>