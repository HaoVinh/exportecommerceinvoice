<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html" template="/pages/home.xhtml">
	<ui:define name="content">
		<h3
			style="margin: 0px; color: #00145a; font-weight: bold; font-size: 15px !important; line-height: 13px; padding-top: 10px; padding-left: 10px;">Nhóm
			sản phẩm km</h3>
		<p:separator />
		<div class="col-md-12">
			<h:form id="menuformid">
				<div class="col-md-12"
					style="padding-left: 0px !important; padding-right: 0px !important;">
					<div class="col-md-12">



						<p:commandLink styleClass="btn_primmary"
							style="margin-left:5px;height:28px !important;line-height:28px !important;"
							update="editdetail"
							action="#{promotionProductGroupBean.showDialog()}">
							<i class="fa fa-plus" aria-hidden="true"></i>
							<span>Thêm mới</span>
						</p:commandLink>

						<p:commandLink styleClass="btn_new"
							disabled="#{promotionProductGroupBean.promotionProductGroupCrud==null}"
							style="margin-left:5px;height:28px !important;line-height:28px !important;"
							update="editdetail" title="Chỉnh sửa khách hàng"
							action="#{promotionProductGroupBean.showDialogEdit}">
							<i class="fa fa-pencil" aria-hidden="true"></i>
							<span>Chỉnh sửa</span>
						</p:commandLink>
						<p:commandLink styleClass="btn_destroy"
							style="margin-left:1px;height:28px !important;line-height:28px !important;"
							update=":messages,menuformid"
							disabled="#{promotionProductGroupBean.promotionProductGroupCrud==null}"
							action="#{promotionProductGroupBean.delete()}"
							title="Xóa khách hàng">
							<i class="fa fa-trash" aria-hidden="true"></i>
							<span>Xóa</span>
							<p:confirm icon="ui-icon-alert" />
						</p:commandLink>
						<p:commandLink id="idorder"
							style="margin-left:5px;height:28px !important;line-height:28px !important;"
							styleClass="btn_primmary" icon="fa fa-search">
							<i class="fa fa-search" aria-hidden="true"></i>
							<span>Tìm kiếm</span>
						</p:commandLink>
						<p:overlayPanel id="imagePanel" for="idorder" hideEffect="fade"
							dismissable="false" widgetVar="panelsearch" style="width:350px;">
							<div class="col-md-12" style="padding: 5px">
								<div class="row">
									<div class="col-md-12"
										style="padding-left: 0px !important; padding-right: 0px !important; margin-top: 5px;">
										<label>Mã nhóm KM</label>
										<p:inputText value="#{promotionProductGroupBean.codeSearch}" />
									</div>
									<div class="col-md-12"
										style="padding-left: 0px !important; padding-right: 0px !important; margin-top: 5px;">
										<label>Tên nhóm KM</label>
										<p:inputText value="#{promotionProductGroupBean.nameSearch}" />
									</div>
								</div>
								<div class="row" style="text-align: right">
									<p:separator />
									<p:commandLink process="menuformid:imagePanel"
										oncomplete="PF('panelsearch').hide()"
										styleClass="btn_primmary"
										actionListener="#{promotionProductGroupBean.search()}"
										update="menuformid:tablesp">
										<span>Tìm</span>
									</p:commandLink>
								</div>
							</div>
						</p:overlayPanel>
					</div>
					<div class="col-md-12" style="margin-top: 3px;">
						<p:dataTable
							value="#{promotionProductGroupBean.listPromotionProductGroup}"
							paginatorPosition="bottom" rowsPerPageTemplate="60,90,180"
							paginator="true" rowKey="#{item.id}"
							styleClass="tablenhapsp tableright1" style="width:100%"
							selection="#{promotionProductGroupBean.promotionProductGroupSelect}"
							scrollable="true" selectionMode="single" id="tablesp"
							scrollHeight="500" widgetVar="datatb" resizableColumns="true"
							var="item">
							<p:ajax event="rowDblselect"
								listener="#{promotionProductGroupBean.showDialogEdit()}"
								update="editdetail" />
							<p:column headerText="ID" width="30">
								<h:outputText value="#{item.id}" />
							</p:column>
							<p:column headerText="Mã nhómKM" width="50">
								<h:outputText value="#{item.code}" />
							</p:column>
							<p:column headerText="Tên nhóm KM" width="250">
								<h:outputText style="white-space: initial;" value="#{item.name}" />
							</p:column>
							<p:column headerText="ĐVT" width="50">
								<h:outputText value="#{item.unit}" />
							</p:column>
							<p:column headerText="SL Carton" width="70">
								<h:outputText value="#{item.carton_quantity}" />
							</p:column>
							<p:column headerText="DVT Carton" width="60">
								<h:outputText value="#{item.carton_unit}" />
							</p:column>
						</p:dataTable>
					</div>
				</div>
			</h:form>
		</div>
		<p:dialog styleClass="dialogCus" resizable="false" width="450"
			style="overflow: initial;" closeOnEscape="true"
			header="Nhóm sản phẩm" widgetVar="dlg1">
			<h:form id="editdetail" style="width:100%;">
				<div class="col-md-12 boxCus">
					<div class="col-md-12"
						style="padding-left: 0px !important; padding-right: 0px !important;">
						<div class="row">
							<div class="col-md-12"
								style="padding-left: 0px !important; padding-right: 0px !important;">
								<label>Mã nhóm<span style="color: red;">*</span></label>
							</div>
							<div class="col-md-12"
								style="padding-left: 0px !important; padding-right: 0px !important; margin-bottom: 5px;">
								<p:inputText
									value="#{promotionProductGroupBean.promotionProductGroupCrud.code}" />
							</div>
							<div class="col-md-12"
								style="padding-left: 0px !important; padding-right: 0px !important;">
								<label>Tên nhóm<span style="color: red;">*</span></label>
							</div>
							<div class="col-md-12"
								style="padding-left: 0px !important; padding-right: 0px !important; margin-bottom: 5px;">
								<p:inputText
									value="#{promotionProductGroupBean.promotionProductGroupCrud.name}" />
							</div>
							<div class="col-md-4"
								style="padding-left: 0px !important; padding-right: 3px !important;">
								<label>ĐVT</label>
							</div>
							<div class="col-md-4"
								style="padding-left: 2px !important; padding-right: 2px !important;">
								<label>SL CarTon</label>
							</div>
							<div class="col-md-4"
								style="padding-left: 3px !important; padding-right: 0px !important;">
								<label>DVT CarTon</label>
							</div>
							<div class="col-md-4"
								style="padding-left: 0px !important; padding-right: 3px !important;">
								<p:inputText
									value="#{promotionProductGroupBean.promotionProductGroupCrud.unit}" />
							</div>
							<div class="col-md-4"
								style="padding-left: 2px !important; padding-right: 2px !important;">
								<p:inputText
									value="#{promotionProductGroupBean.promotionProductGroupCrud.carton_quantity}" />
							</div>
							<div class="col-md-4"
								style="padding-left: 3px !important; padding-right: 0px !important;">
								<p:inputText
									value="#{promotionProductGroupBean.promotionProductGroupCrud.carton_unit}" />
							</div>

						</div>
					</div>
				</div>
				<div class="col-md-12" style="padding: 10px 0px;">
					<p:commandButton value="Lưu/Cập nhật"
						update=":messages,menuformid:tablesp"
						actionListener="#{promotionProductGroupBean.saveOrUpdate()}" />
				</div>
			</h:form>
		</p:dialog>
	</ui:define>
</ui:composition>